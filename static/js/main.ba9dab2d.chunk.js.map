{"version":3,"sources":["components/Searchbar/Searchbar.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/Container/Container.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Loader/Loader.module.css","components/Section/Section.module.css","components/Container/Container.js","components/Searchbar/Searchbar.js","services/images-api.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Loader/Loader.js","components/Section/Section.js","components/Modal/Modal.js","components/GalleryView/GalleryView.js","App.js","index.js"],"names":["module","exports","Container","children","className","styles","container","Searchbar","state","query","handleChange","e","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","trim","props","onSubmit","toast","warning","searchbar","searchForm","this","type","searchFormButton","searchFormButtonLabel","searchFormInput","autoComplete","autoFocus","placeholder","onChange","Component","api","fetchImages","currentPage","axios","get","then","response","data","hits","ImageGalleryItem","webformatURL","largeImageURL","alt","onClick","imageGalleryItem","src","data-source","imageGalleryItemImage","ImageGallery","images","imageGallery","map","id","tags","Button","onLoadMore","button","LoaderSpinner","loader","color","height","width","timeout","Section","section","modalRoot","document","querySelector","Modal","handleKeyDown","code","onClose","handleBackdropClick","target","window","addEventListener","removeEventListener","createPortal","overlay","modal","largeImgURL","GalleryView","isLoading","error","showModal","searchImages","options","imagesApi","prevState","length","catch","finally","scrollPage","setTimeout","scrollBy","top","documentElement","clientHeight","behavior","toggleModal","onOpenModal","dataset","source","prevProps","shouldRenderLoadMoreBtn","App","handleFormSubmit","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.ba9dab2d.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__7axwn\",\"searchForm\":\"Searchbar_searchForm__pisSU\",\"searchFormButton\":\"Searchbar_searchFormButton__13Ioy\",\"searchFormButtonLabel\":\"Searchbar_searchFormButtonLabel__1RD0Y\",\"searchFormInput\":\"Searchbar_searchFormInput__BjzI5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGalleryItem\":\"ImageGalleryItem_imageGalleryItem__2XCSq\",\"imageGalleryItemImage\":\"ImageGalleryItem_imageGalleryItemImage__3SYmi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__2nvzZ\",\"modal\":\"Modal_modal__1pYQw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Container_container__2HHlO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGallery\":\"ImageGallery_imageGallery__7osM7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__2qe41\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__3z-wb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"section\":\"Section_section__3sWmq\"};","import PropTypes from 'prop-types';\n\nimport styles from './Container.module.css';\n\nexport default function Container({ children }) {\n  return <div className={styles.container}>{children}</div>;\n}\n\nContainer.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n","import { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { toast } from 'react-toastify';\n\nimport styles from './Searchbar.module.css';\n\nexport default class Searchbar extends Component {\n  state = {\n    query: '',\n  };\n\n  static propTypes = {\n    onSubmit: PropTypes.func.isRequired,\n  };\n\n  handleChange = e => {\n    this.setState({ query: e.currentTarget.value.toLowerCase() });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n\n    if (this.state.query.trim() === '') {\n      toast.warning('Enter your query');\n      return;\n    }\n\n    this.props.onSubmit(this.state.query);\n    this.setState({ query: '' });\n  };\n\n  render() {\n    return (\n      <header className={styles.searchbar}>\n        <form className={styles.searchForm} onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className={styles.searchFormButton}>\n            <span className={styles.searchFormButtonLabel}>Search</span>\n          </button>\n\n          <input\n            className={styles.searchFormInput}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            value={this.state.query}\n            onChange={this.handleChange}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n","import axios from 'axios';\n\nconst API_KEY = '19042677-37d14c32a93614679ae39c658';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nconst fetchImages = ({ query = '', currentPage = 1 }) => {\n  return axios\n    .get(\n      `${BASE_URL}?q=${query}&page=${currentPage}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`,\n    )\n    .then(response => response.data.hits);\n};\n\nconst api = {\n  fetchImages,\n};\n\nexport default api;\n","import PropTypes from 'prop-types';\n\nimport styles from './ImageGalleryItem.module.css';\n\nexport default function ImageGalleryItem({\n  webformatURL,\n  largeImageURL,\n  alt,\n  onClick,\n}) {\n  return (\n    <li className={styles.imageGalleryItem}>\n      <img\n        src={webformatURL}\n        data-source={largeImageURL}\n        alt={alt}\n        onClick={onClick}\n        className={styles.imageGalleryItemImage}\n      />\n    </li>\n  );\n}\n\nImageGalleryItem.propTypes = {\n  webformatURL: PropTypes.string.isRequired,\n  largeImageURL: PropTypes.string.isRequired,\n  alt: PropTypes.string.isRequired,\n  onClick: PropTypes.func.isRequired,\n};\n","import PropTypes from 'prop-types';\n\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\nimport styles from './ImageGallery.module.css';\n\nexport default function ImageGallery({ images, onClick }) {\n  return (\n    <ul className={styles.imageGallery}>\n      {images.map(({ id, webformatURL, largeImageURL, tags }) => (\n        <ImageGalleryItem\n          key={id}\n          webformatURL={webformatURL}\n          largeImageURL={largeImageURL}\n          alt={tags}\n          onClick={onClick}\n        />\n      ))}\n    </ul>\n  );\n}\n\nImageGallery.propTypes = {\n  images: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      webformatURL: PropTypes.string.isRequired,\n      largeImageURL: PropTypes.string.isRequired,\n      tags: PropTypes.string.isRequired,\n    }),\n  ),\n  onClick: PropTypes.func.isRequired,\n};\n","import PropTypes from 'prop-types';\nimport styles from './Button.module.css';\n\nexport default function Button({ onLoadMore }) {\n  return (\n    <button type=\"button\" className={styles.button} onClick={onLoadMore}>\n      Load more\n    </button>\n  );\n}\n\nButton.propTypes = {\n  onLoadMore: PropTypes.func.isRequired,\n};\n","import Loader from 'react-loader-spinner';\n\nimport styles from './Loader.module.css';\n\nexport default function LoaderSpinner() {\n  return (\n    <Loader\n      className={styles.loader}\n      type=\"Oval\"\n      color=\"#00BFFF\"\n      height={80}\n      width={80}\n      timeout={3000}\n    />\n  );\n}\n","import PropTypes from 'prop-types';\n\nimport styles from './Section.module.css';\n\nexport default function Section({ children }) {\n  return <section className={styles.section}>{children}</section>;\n}\n\nSection.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n","import React, { Component } from 'react';\nimport { createPortal } from 'react-dom';\nimport PropTypes from 'prop-types';\n\nimport styles from './Modal.module.css';\n\nconst modalRoot = document.querySelector('#modal-root');\nexport default class Modal extends Component {\n  static propTypes = {\n    largeImgURL: PropTypes.string.isRequired,\n    alt: PropTypes.string.isRequired,\n    onClose: PropTypes.func.isRequired,\n  };\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n\n  handleKeyDown = e => {\n    if (e.code === 'Escape') {\n      this.props.onClose();\n    }\n  };\n\n  handleBackdropClick = e => {\n    if (e.currentTarget === e.target) {\n      this.props.onClose();\n    }\n  };\n  render() {\n    return createPortal(\n      <div className={styles.overlay} onClick={this.handleBackdropClick}>\n        <div className={styles.modal}>\n          <img src={this.props.largeImgURL} alt={this.props.alt} />\n        </div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\n","import { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { toast } from 'react-toastify';\n\nimport imagesApi from '../../services/images-api';\nimport ImageGallery from '../ImageGallery/ImageGallery';\nimport Button from '../Button/Button';\nimport LoaderSpinner from '../Loader/Loader';\nimport Section from '../Section/Section';\nimport Modal from '../Modal/Modal';\n\nexport default class GalleryView extends Component {\n  state = {\n    images: [],\n    currentPage: 1,\n    isLoading: false,\n    error: null,\n    showModal: false,\n    largeImageURL: '',\n    alt: '',\n  };\n\n  static propTypes = {\n    query: PropTypes.string.isRequired,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const prevQuery = prevProps.query;\n    const nextQuery = this.props.query;\n\n    if (prevQuery !== nextQuery) {\n      this.setState(\n        {\n          currentPage: 1,\n          images: [],\n          error: null,\n        },\n        () => this.searchImages(),\n      );\n    }\n  }\n\n  searchImages = () => {\n    const { currentPage } = this.state;\n    const { query } = this.props;\n    const options = { query, currentPage };\n\n    this.setState({ isLoading: true });\n\n    imagesApi\n      .fetchImages(options)\n      .then(images => {\n        this.setState(prevState => ({\n          images: [...prevState.images, ...images],\n          currentPage: prevState.currentPage + 1,\n        }));\n        if (images.length === 0) {\n          toast.error('Nothing was found');\n          return;\n        }\n      })\n      .catch(error => this.setState({ error }))\n      .finally(() => this.setState({ isLoading: false }));\n  };\n\n  onLoadMore = () => {\n    this.searchImages();\n    this.scrollPage();\n  };\n\n  scrollPage = () => {\n    setTimeout(() => {\n      window.scrollBy({\n        top: document.documentElement.clientHeight - 160,\n        behavior: 'smooth',\n      });\n    }, 500);\n  };\n\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n    }));\n  };\n\n  onOpenModal = e => {\n    this.setState({\n      largeImageURL: e.target.dataset.source,\n      alt: e.target.alt,\n    });\n\n    this.toggleModal();\n  };\n\n  render() {\n    const { images, isLoading, showModal, largeImageURL, alt } = this.state;\n    const shouldRenderLoadMoreBtn = images.length > 0 && !isLoading;\n\n    return (\n      <div>\n        <ImageGallery images={images} onClick={this.onOpenModal} />\n        {showModal && (\n          <Modal\n            largeImgURL={largeImageURL}\n            alt={alt}\n            onClose={this.toggleModal}\n          />\n        )}\n        {isLoading && <LoaderSpinner />}\n        <Section>\n          {shouldRenderLoadMoreBtn && <Button onLoadMore={this.onLoadMore} />}\n        </Section>\n      </div>\n    );\n  }\n}\n","import { Component } from 'react';\nimport { ToastContainer } from 'react-toastify';\n\nimport Container from './components/Container/Container';\nimport Searchbar from './components/Searchbar/Searchbar';\nimport GalleryView from './components/GalleryView/GalleryView';\n\nexport default class App extends Component {\n  state = {\n    query: '',\n  };\n\n  handleFormSubmit = query => {\n    this.setState({ query });\n  };\n\n  render() {\n    return (\n      <Container>\n        <Searchbar onSubmit={this.handleFormSubmit} />\n        <GalleryView query={this.state.query} />\n        <ToastContainer autoClose={3000} />\n      </Container>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'modern-normalize/modern-normalize.css';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport 'react-toastify/dist/ReactToastify.css';\n\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}